# AI Agent Game Creator - ã‚·ã‚¹ãƒ†ãƒ ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ä»•æ§˜æ›¸

## 1. æ¦‚è¦

### 1.1 ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ¦‚è¦

Claude Codeã®ã‚ˆã†ã«å¯¾è©±å½¢å¼ã§ã‚²ãƒ¼ãƒ ã‚’ä½œæˆã§ãã‚‹AI Agentã‚·ã‚¹ãƒ†ãƒ ã€‚
ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒã€Œã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ã‚²ãƒ¼ãƒ ã‚’ä½œã£ã¦ã€ã¨æŒ‡ç¤ºã™ã‚‹ã¨ã€è¤‡æ•°ã®AgentãŒå”èª¿ã—ã¦
ä¼ç”»ãƒ»å®Ÿè£…ãƒ»ã‚¢ã‚»ãƒƒãƒˆç”Ÿæˆãƒ»ãƒ†ã‚¹ãƒˆã‚’è‡ªå‹•ã§è¡Œã†ã€‚

### 1.2 è¨­è¨ˆæ€æƒ³

- **LLMéä¾å­˜**: LangChainã«ã‚ˆã‚‹æŠ½è±¡åŒ–ã§ã€Claude/GPT/Deepseekç­‰ã‚’åˆ‡ã‚Šæ›¿ãˆå¯èƒ½
- **ã‚³ã‚¹ãƒˆæœ€é©åŒ–**: è‡ªå‰APIï¼ˆComfyUIç­‰ï¼‰ãƒ»ç„¡æ–™APIã‚’å„ªå…ˆã—ã€æœ‰æ–™APIã¯ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯
- **ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯**: ãƒ•ã‚¡ã‚¤ãƒ«ãƒ™ãƒ¼ã‚¹ã®ç°¡æ˜“ãªä»•çµ„ã¿ã§ã„ã¤ã§ã‚‚ä»‹å…¥å¯èƒ½
- **ä¸¦åˆ—å‡¦ç†**: ç‹¬ç«‹ã—ãŸã‚¿ã‚¹ã‚¯ã¯ä¸¦åˆ—å®Ÿè¡Œã§åŠ¹ç‡åŒ–
- **ç›£è¦–å¯èƒ½**: LangSmithã«ã‚ˆã‚‹ãƒˆãƒ¬ãƒ¼ã‚¹ãƒ»ãƒ‡ãƒãƒƒã‚°

---

## 2. ã‚·ã‚¹ãƒ†ãƒ å…¨ä½“æ§‹æˆ

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                          AI Agent Game Creator                               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚                         LangGraph Layer                              â”‚   â”‚
â”‚  â”‚                    (Agent Orchestration)                             â”‚   â”‚
â”‚  â”‚                                                                      â”‚   â”‚
â”‚  â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”           â”‚   â”‚
â”‚  â”‚   â”‚ Planner â”‚â”€â”€â–¶â”‚  Coder  â”‚â”€â”€â–¶â”‚ Tester  â”‚â”€â”€â–¶â”‚Debugger â”‚           â”‚   â”‚
â”‚  â”‚   â”‚  Agent  â”‚   â”‚  Agent  â”‚   â”‚  Agent  â”‚   â”‚  Agent  â”‚           â”‚   â”‚
â”‚  â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜           â”‚   â”‚
â”‚  â”‚        â”‚                                                            â”‚   â”‚
â”‚  â”‚        â–¼                                                            â”‚   â”‚
â”‚  â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚   â”‚
â”‚  â”‚   â”‚              Asset Coordinator Agent                      â”‚    â”‚   â”‚
â”‚  â”‚   â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤    â”‚   â”‚
â”‚  â”‚   â”‚                         â”‚                                 â”‚    â”‚   â”‚
â”‚  â”‚   â”‚    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”‚    â”‚   â”‚
â”‚  â”‚   â”‚    â”‚ Visual  â”‚   â”‚  Audio  â”‚   â”‚   UI    â”‚              â”‚    â”‚   â”‚
â”‚  â”‚   â”‚    â”‚  Agent  â”‚   â”‚  Agent  â”‚   â”‚  Agent  â”‚   ä¸¦åˆ—å®Ÿè¡Œ   â”‚    â”‚   â”‚
â”‚  â”‚   â”‚    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â”‚    â”‚   â”‚
â”‚  â”‚   â”‚                                                           â”‚    â”‚   â”‚
â”‚  â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚   â”‚
â”‚  â”‚                                                                      â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                      â”‚                                       â”‚
â”‚                                      â”‚ LLMå‘¼ã³å‡ºã—                           â”‚
â”‚                                      â–¼                                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚                         LangChain Layer                               â”‚   â”‚
â”‚  â”‚                      (LLM Abstraction)                                â”‚   â”‚
â”‚  â”‚                                                                       â”‚   â”‚
â”‚  â”‚   â€¢ LLMåˆ‡ã‚Šæ›¿ãˆ (Claude / GPT / Deepseek / è‡ªå‰API)                  â”‚   â”‚
â”‚  â”‚   â€¢ Toolå®šç¾©ãƒ»å®Ÿè¡Œ                                                    â”‚   â”‚
â”‚  â”‚   â€¢ Prompt Templateç®¡ç†                                               â”‚   â”‚
â”‚  â”‚   â€¢ Memory / Contextç®¡ç†                                              â”‚   â”‚
â”‚  â”‚                                                                       â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                      â”‚                                       â”‚
â”‚                                      â”‚ ãƒ­ã‚°ãƒ»ãƒˆãƒ¬ãƒ¼ã‚¹                        â”‚
â”‚                                      â–¼                                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚                         LangSmith Layer                               â”‚   â”‚
â”‚  â”‚                      (Monitoring & Debug)                             â”‚   â”‚
â”‚  â”‚                                                                       â”‚   â”‚
â”‚  â”‚   â€¢ å®Ÿè¡Œãƒˆãƒ¬ãƒ¼ã‚¹å¯è¦–åŒ–                                                â”‚   â”‚
â”‚  â”‚   â€¢ ãƒˆãƒ¼ã‚¯ãƒ³ä½¿ç”¨é‡ãƒ»ã‚³ã‚¹ãƒˆç›£è¦–                                        â”‚   â”‚
â”‚  â”‚   â€¢ ã‚¨ãƒ©ãƒ¼è¿½è·¡ãƒ»ãƒ‡ãƒãƒƒã‚°                                              â”‚   â”‚
â”‚  â”‚   â€¢ A/Bãƒ†ã‚¹ãƒˆãƒ»è©•ä¾¡                                                   â”‚   â”‚
â”‚  â”‚                                                                       â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚                    File-based Feedback System                         â”‚   â”‚
â”‚  â”‚                   (Human-in-the-Loop)                                 â”‚   â”‚
â”‚  â”‚                                                                       â”‚   â”‚
â”‚  â”‚   ğŸ“ output/     â† Agentæˆæœç‰©å‡ºåŠ›                                   â”‚   â”‚
â”‚  â”‚   ğŸ“ feedback/   â† ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯å…¥åŠ›                        â”‚   â”‚
â”‚  â”‚   ğŸ“ status/     â† é€²æ—çŠ¶æ³                                          â”‚   â”‚
â”‚  â”‚                                                                       â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 3. Agentå®šç¾©

### 3.1 Agentä¸€è¦§

| Agentå | å½¹å‰² | å…¥åŠ› | å‡ºåŠ› |
|---------|------|------|------|
| **Planner Agent** | ã‚²ãƒ¼ãƒ ä¼ç”»ãƒ»ä»•æ§˜ç­–å®šãƒ»ã‚¿ã‚¹ã‚¯åˆ†è§£ | ãƒ¦ãƒ¼ã‚¶ãƒ¼è¦æ±‚ | ã‚²ãƒ¼ãƒ ä»•æ§˜æ›¸ã€ã‚¿ã‚¹ã‚¯ãƒªã‚¹ãƒˆ |
| **Coder Agent** | ã‚²ãƒ¼ãƒ ã‚³ãƒ¼ãƒ‰å®Ÿè£… | ä»•æ§˜æ›¸ã€ã‚¿ã‚¹ã‚¯ | ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰ |
| **Reviewer Agent** | ã‚³ãƒ¼ãƒ‰ãƒ¬ãƒ“ãƒ¥ãƒ¼ãƒ»æ”¹å–„ææ¡ˆ | ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰ | ãƒ¬ãƒ“ãƒ¥ãƒ¼ã‚³ãƒ¡ãƒ³ãƒˆ |
| **Tester Agent** | ã‚²ãƒ¼ãƒ å®Ÿè¡Œãƒ»å‹•ä½œç¢ºèª | ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰ã€ã‚¢ã‚»ãƒƒãƒˆ | ãƒ†ã‚¹ãƒˆçµæœ |
| **Debugger Agent** | ãƒã‚°è§£æãƒ»ä¿®æ­£ | ã‚¨ãƒ©ãƒ¼æƒ…å ±ã€ã‚³ãƒ¼ãƒ‰ | ä¿®æ­£ã‚³ãƒ¼ãƒ‰ |
| **Asset Coordinator** | ã‚¢ã‚»ãƒƒãƒˆç”Ÿæˆã®æŒ¯ã‚Šåˆ†ã‘ | ä»•æ§˜æ›¸ | ã‚µãƒ–Agentã¸ã®æŒ‡ç¤º |
| **Visual Agent** | ç”»åƒãƒ»3Dãƒ»ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ç”Ÿæˆ | ç”»åƒä»•æ§˜ | ç”»åƒãƒ•ã‚¡ã‚¤ãƒ« |
| **Audio Agent** | BGMãƒ»SEãƒ»ãƒœã‚¤ã‚¹ç”Ÿæˆ | éŸ³å£°ä»•æ§˜ | éŸ³å£°ãƒ•ã‚¡ã‚¤ãƒ« |
| **UI Agent** | ã‚¢ã‚¤ã‚³ãƒ³ãƒ»ãƒ­ã‚´ãƒ»UIéƒ¨å“ç”Ÿæˆ | UIä»•æ§˜ | UIç´ æ |

### 3.2 Agentè©³ç´°

#### 3.2.1 Planner Agent

```yaml
å½¹å‰²: ã‚²ãƒ¼ãƒ ä¼ç”»ãƒ»è¨­è¨ˆ
å…¥åŠ›:
  - user_request: string  # ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®è¦æ±‚
  - constraints: dict     # åˆ¶ç´„æ¡ä»¶ï¼ˆã‚ªãƒ—ã‚·ãƒ§ãƒ³ï¼‰
å‡ºåŠ›:
  - game_spec: GameSpec   # ã‚²ãƒ¼ãƒ ä»•æ§˜
  - tasks: list[Task]     # å®Ÿè¡Œã‚¿ã‚¹ã‚¯ãƒªã‚¹ãƒˆ
ä½¿ç”¨Tool:
  - WebSearch: å‚è€ƒæƒ…å ±æ¤œç´¢
  - FileRead: æ—¢å­˜ã‚³ãƒ¼ãƒ‰å‚ç…§
```

#### 3.2.2 Coder Agent

```yaml
å½¹å‰²: ã‚²ãƒ¼ãƒ ã‚³ãƒ¼ãƒ‰å®Ÿè£…
å…¥åŠ›:
  - game_spec: GameSpec
  - task: Task
  - existing_code: dict[str, str]  # æ—¢å­˜ã‚³ãƒ¼ãƒ‰
å‡ºåŠ›:
  - code_files: dict[str, str]     # ãƒ•ã‚¡ã‚¤ãƒ«å â†’ ã‚³ãƒ¼ãƒ‰
ä½¿ç”¨Tool:
  - FileWrite: ã‚³ãƒ¼ãƒ‰å‡ºåŠ›
  - FileRead: æ—¢å­˜ã‚³ãƒ¼ãƒ‰å‚ç…§
  - FileEdit: ã‚³ãƒ¼ãƒ‰ä¿®æ­£
  - BashExec: ã‚³ãƒãƒ³ãƒ‰å®Ÿè¡Œï¼ˆpip installç­‰ï¼‰
```

#### 3.2.3 Asset Coordinator Agent

```yaml
å½¹å‰²: ã‚¢ã‚»ãƒƒãƒˆç”Ÿæˆã®æŒ¯ã‚Šåˆ†ã‘ã¨çµ±æ‹¬
å…¥åŠ›:
  - game_spec: GameSpec
  - asset_requirements: list[AssetRequirement]
å‡ºåŠ›:
  - visual_tasks: list[VisualTask]
  - audio_tasks: list[AudioTask]
  - ui_tasks: list[UITask]
å‹•ä½œ:
  - å¿…è¦ãªã‚¢ã‚»ãƒƒãƒˆã‚’åˆ†æ
  - é©åˆ‡ãªSub-Agentã«æŒ¯ã‚Šåˆ†ã‘
  - ä¸¦åˆ—å®Ÿè¡Œã‚’åˆ¶å¾¡
```

#### 3.2.4 Visual Agent

```yaml
å½¹å‰²: ãƒ“ã‚¸ãƒ¥ã‚¢ãƒ«ã‚¢ã‚»ãƒƒãƒˆç”Ÿæˆ
æ‹…å½“:
  - ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼ç”»åƒï¼ˆç«‹ã¡çµµã€è¡¨æƒ…å·®åˆ†ï¼‰
  - èƒŒæ™¯ç”»åƒ
  - 3Dãƒ¢ãƒ‡ãƒ«
  - ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ãƒ»ã‚¹ãƒ—ãƒ©ã‚¤ãƒˆ
  - ã‚¨ãƒ•ã‚§ã‚¯ãƒˆ
ä½¿ç”¨API:
  å„ªå…ˆåº¦é«˜ï¼ˆç„¡æ–™/è‡ªå‰ï¼‰:
    - ComfyUI (self-hosted)      # ãƒ¡ã‚¤ãƒ³ï¼šãƒ­ãƒ¼ã‚«ãƒ«SDç’°å¢ƒ
    - Stable Diffusion WebUI     # ä»£æ›¿ãƒ­ãƒ¼ã‚«ãƒ«ç’°å¢ƒ
  å„ªå…ˆåº¦ä½ï¼ˆæœ‰æ–™ï¼‰:
    - DALL-E 3                   # ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯
    - Midjourney API             # é«˜å“è³ªãŒå¿…è¦ãªå ´åˆ
  3D:
    - Blender (ãƒ­ãƒ¼ã‚«ãƒ«)
```

#### 3.2.5 Audio Agent

```yaml
å½¹å‰²: ã‚ªãƒ¼ãƒ‡ã‚£ã‚ªã‚¢ã‚»ãƒƒãƒˆç”Ÿæˆ
æ‹…å½“:
  - BGMï¼ˆãƒ«ãƒ¼ãƒ—å¯¾å¿œï¼‰
  - åŠ¹æœéŸ³ï¼ˆSEï¼‰
  - ã‚¸ãƒ³ã‚°ãƒ«
  - ãƒœã‚¤ã‚¹ï¼ˆã‚ªãƒ—ã‚·ãƒ§ãƒ³ï¼‰
ä½¿ç”¨API:
  å„ªå…ˆåº¦é«˜ï¼ˆç„¡æ–™/è‡ªå‰ï¼‰:
    - AudioCraft (Meta, ãƒ­ãƒ¼ã‚«ãƒ«)  # BGM/SEç”Ÿæˆ
    - Bark (ãƒ­ãƒ¼ã‚«ãƒ«)              # éŸ³å£°åˆæˆ
    - Freesound API (ç„¡æ–™)         # SEç´ æ
    - VOICEVOX (ãƒ­ãƒ¼ã‚«ãƒ«)          # æ—¥æœ¬èªéŸ³å£°
  å„ªå…ˆåº¦ä½ï¼ˆæœ‰æ–™ï¼‰:
    - Suno AI                      # é«˜å“è³ªBGM
    - ElevenLabs                   # é«˜å“è³ªéŸ³å£°
```

#### 3.2.6 UI Agent

```yaml
å½¹å‰²: UIã‚¢ã‚»ãƒƒãƒˆç”Ÿæˆ
æ‹…å½“:
  - ã‚²ãƒ¼ãƒ ã‚¢ã‚¤ã‚³ãƒ³
  - ã‚¿ã‚¤ãƒˆãƒ«ãƒ­ã‚´
  - ãƒœã‚¿ãƒ³ãƒ»ãƒ¡ãƒ‹ãƒ¥ãƒ¼ç´ æ
  - HUDè¦ç´ 
  - ãƒ•ã‚©ãƒ³ãƒˆé¸å®š
ä½¿ç”¨API:
  å„ªå…ˆåº¦é«˜ï¼ˆç„¡æ–™/è‡ªå‰ï¼‰:
    - ComfyUI (self-hosted)        # Visual Agentã¨å…±æœ‰
    - Google Fonts API (ç„¡æ–™)      # ãƒ•ã‚©ãƒ³ãƒˆ
    - SVGãƒªãƒã‚¸ãƒˆãƒª (ç„¡æ–™ç´ æ)     # ã‚¢ã‚¤ã‚³ãƒ³ç´ æ
  å„ªå…ˆåº¦ä½ï¼ˆæœ‰æ–™ï¼‰:
    - DALL-E 3                     # ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯
    - Figma API                    # è¤‡é›‘ãªUIè¨­è¨ˆæ™‚
```

---

## 4. ãƒ‡ãƒ¼ã‚¿æ§‹é€ 

### 4.1 Stateï¼ˆçŠ¶æ…‹ï¼‰å®šç¾©

```python
from typing import TypedDict, Optional
from enum import Enum

class Phase(Enum):
    PLANNING = "planning"
    CODING = "coding"
    ASSET_GENERATION = "asset_generation"
    TESTING = "testing"
    DEBUGGING = "debugging"
    COMPLETED = "completed"
    CANCELLED = "cancelled"

class ArtifactStatus(Enum):
    PENDING = "pending"
    IN_PROGRESS = "in_progress"
    COMPLETED = "completed"
    NEEDS_REVISION = "needs_revision"
    APPROVED = "approved"

class Artifact(TypedDict):
    id: str
    type: str              # "image", "audio", "code", "ui"
    agent: str             # ç”Ÿæˆã—ãŸAgentå
    file_path: str         # å‡ºåŠ›ãƒ•ã‚¡ã‚¤ãƒ«ãƒ‘ã‚¹
    status: ArtifactStatus
    feedback_history: list[dict]

class Task(TypedDict):
    id: str
    type: str              # "code", "visual", "audio", "ui"
    description: str
    assigned_agent: str
    status: str
    dependencies: list[str]  # ä¾å­˜ã™ã‚‹ã‚¿ã‚¹ã‚¯ID

class GameSpec(TypedDict):
    title: str
    genre: str
    description: str
    mechanics: list[str]
    visual_style: str
    audio_style: str
    target_platform: str   # "pygame", "html5", "pyxel"

class GameState(TypedDict):
    # ãƒ¦ãƒ¼ã‚¶ãƒ¼å…¥åŠ›
    user_request: str

    # ä¼ç”»
    game_spec: Optional[GameSpec]
    tasks: list[Task]

    # æˆæœç‰©
    artifacts: dict[str, Artifact]
    code_files: dict[str, str]

    # ãƒ¬ãƒ“ãƒ¥ãƒ¼ãƒ»ãƒ†ã‚¹ãƒˆ
    review_comments: list[dict]
    test_results: Optional[dict]
    errors: list[dict]

    # åˆ¶å¾¡
    current_phase: Phase
    iteration: int

    # ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯
    pending_feedback: list[dict]
```

### 4.2 ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯æ§‹é€ 

```python
class Feedback(TypedDict):
    artifact_id: str       # å¯¾è±¡ã®æˆæœç‰©ID
    action: str            # "approve", "redo", "fix", "comment"
    comment: str           # ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚³ãƒ¡ãƒ³ãƒˆ
    timestamp: float
    processed: bool
```

---

## 5. ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼

### 5.1 ãƒ¡ã‚¤ãƒ³ãƒ•ãƒ­ãƒ¼

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                           Main Workflow                                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                              â”‚
â”‚   START                                                                      â”‚
â”‚     â”‚                                                                        â”‚
â”‚     â–¼                                                                        â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                                       â”‚
â”‚   â”‚  Planner Agent  â”‚                                                       â”‚
â”‚   â”‚   ä¼ç”»ç«‹æ¡ˆ      â”‚                                                       â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                                       â”‚
â”‚            â”‚                                                                 â”‚
â”‚            â–¼                                                                 â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    feedback    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                   â”‚
â”‚   â”‚  Output: spec   â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚  User Review    â”‚                   â”‚
â”‚   â”‚  ä»•æ§˜æ›¸å‡ºåŠ›     â”‚â—€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚  (file-based)   â”‚                   â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜    approve/    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                   â”‚
â”‚            â”‚              revise                                             â”‚
â”‚            â–¼                                                                 â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”‚
â”‚   â”‚                    Parallel Execution                    â”‚              â”‚
â”‚   â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚              â”‚
â”‚   â”‚  â”‚ Coder Agent â”‚              â”‚ Asset Coordinator   â”‚  â”‚              â”‚
â”‚   â”‚  â”‚  ã‚³ãƒ¼ãƒ‰å®Ÿè£…  â”‚              â”‚  ã‚¢ã‚»ãƒƒãƒˆæŒ¯ã‚Šåˆ†ã‘   â”‚  â”‚              â”‚
â”‚   â”‚  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚              â”‚
â”‚   â”‚         â”‚                                 â”‚             â”‚              â”‚
â”‚   â”‚         â”‚                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚              â”‚
â”‚   â”‚         â”‚                    â–¼            â–¼            â–¼â”‚              â”‚
â”‚   â”‚         â”‚              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”            â”‚
â”‚   â”‚         â”‚              â”‚ Visual  â”‚ â”‚  Audio  â”‚ â”‚   UI    â”‚            â”‚
â”‚   â”‚         â”‚              â”‚  Agent  â”‚ â”‚  Agent  â”‚ â”‚  Agent  â”‚            â”‚
â”‚   â”‚         â”‚              â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜            â”‚
â”‚   â”‚         â”‚                   â”‚           â”‚           â”‚     â”‚            â”‚
â”‚   â”‚         â”‚                   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚            â”‚
â”‚   â”‚         â”‚                              â”‚                  â”‚            â”‚
â”‚   â”‚         â–¼                              â–¼                  â”‚            â”‚
â”‚   â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”             â”‚            â”‚
â”‚   â”‚   â”‚  Output  â”‚                  â”‚  Output  â”‚             â”‚            â”‚
â”‚   â”‚   â”‚   Code   â”‚                  â”‚  Assets  â”‚             â”‚            â”‚
â”‚   â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜             â”‚            â”‚
â”‚   â”‚         â”‚                              â”‚                  â”‚            â”‚
â”‚   â”‚         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                  â”‚            â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜            â”‚
â”‚                            â–¼                                                â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”‚
â”‚   â”‚                     Feedback Check                       â”‚              â”‚
â”‚   â”‚           (å„æˆæœç‰©ã«å¯¾ã™ã‚‹ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯ç¢ºèª)            â”‚              â”‚
â”‚   â”‚                                                          â”‚              â”‚
â”‚   â”‚   ./feedback/*.txt ã‚’ãƒã‚§ãƒƒã‚¯                            â”‚              â”‚
â”‚   â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”           â”‚              â”‚
â”‚   â”‚   â”‚ ã‚ã‚Š â†’ è©²å½“Agentã§å†ç”Ÿæˆ/ä¿®æ­£           â”‚           â”‚              â”‚
â”‚   â”‚   â”‚ ãªã— â†’ ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆå¾Œã«æ¬¡ã¸             â”‚           â”‚              â”‚
â”‚   â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜           â”‚              â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â”‚
â”‚                            â”‚                                                â”‚
â”‚                            â–¼                                                â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                                      â”‚
â”‚   â”‚  Tester Agent   â”‚                                                      â”‚
â”‚   â”‚   å‹•ä½œãƒ†ã‚¹ãƒˆ    â”‚                                                      â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                                      â”‚
â”‚            â”‚                                                                â”‚
â”‚            â–¼                                                                â”‚
â”‚      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     Yes    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                          â”‚
â”‚      â”‚ ã‚¨ãƒ©ãƒ¼ï¼Ÿ  â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚  Debugger Agent â”‚â”€â”€â”                       â”‚
â”‚      â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜            â”‚    ãƒã‚°ä¿®æ­£     â”‚  â”‚                       â”‚
â”‚           â”‚ No               â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚                       â”‚
â”‚           â”‚                           â”‚           â”‚                       â”‚
â”‚           â”‚                           â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                       â”‚
â”‚           â–¼                                                                â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                                      â”‚
â”‚   â”‚    å®Œæˆï¼ğŸ®     â”‚                                                      â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                                      â”‚
â”‚                                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 5.2 ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯å‡¦ç†ãƒ•ãƒ­ãƒ¼

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        Feedback Processing Flow                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                              â”‚
â”‚   Agent ãŒæˆæœç‰©ã‚’ç”Ÿæˆ                                                       â”‚
â”‚     â”‚                                                                        â”‚
â”‚     â–¼                                                                        â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                  â”‚
â”‚   â”‚  ./output/{artifact_id}.{ext} ã«ä¿å­˜  â”‚                                  â”‚
â”‚   â”‚  ./status/current.json ã‚’æ›´æ–°         â”‚                                  â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                  â”‚
â”‚                      â”‚                                                       â”‚
â”‚                      â–¼                                                       â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                  â”‚
â”‚   â”‚  ã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã«é€šçŸ¥:                    â”‚                                  â”‚
â”‚   â”‚  "âœ… character_001 ç”Ÿæˆå®Œäº†"          â”‚                                  â”‚
â”‚   â”‚  "â³ ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯å¾…æ©Ÿä¸­ (30ç§’)..."  â”‚                                  â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                  â”‚
â”‚                      â”‚                                                       â”‚
â”‚                      â–¼                                                       â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                  â”‚
â”‚   â”‚        Feedback Check Loop            â”‚                                  â”‚
â”‚   â”‚                                       â”‚                                  â”‚
â”‚   â”‚   for 30 seconds:                     â”‚                                  â”‚
â”‚   â”‚     check ./feedback/{artifact_id}.txtâ”‚                                  â”‚
â”‚   â”‚     if exists:                        â”‚                                  â”‚
â”‚   â”‚       process feedback                â”‚                                  â”‚
â”‚   â”‚       break                           â”‚                                  â”‚
â”‚   â”‚     sleep 1 second                    â”‚                                  â”‚
â”‚   â”‚                                       â”‚                                  â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                  â”‚
â”‚                      â”‚                                                       â”‚
â”‚          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                          â”‚
â”‚          â–¼                       â–¼                                          â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                   â”‚
â”‚   â”‚ Feedback     â”‚       â”‚ No Feedback  â”‚                                   â”‚
â”‚   â”‚ Received     â”‚       â”‚ (Timeout)    â”‚                                   â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜       â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜                                   â”‚
â”‚          â”‚                      â”‚                                           â”‚
â”‚          â–¼                      â–¼                                           â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                   â”‚
â”‚   â”‚ action ã«å¿œã˜ã¦â”‚       â”‚ æˆæœç‰©ç¢ºå®š   â”‚                                   â”‚
â”‚   â”‚ å†ç”Ÿæˆ/ä¿®æ­£   â”‚       â”‚ æ¬¡ã¸é€²ã‚€     â”‚                                   â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                   â”‚
â”‚                                                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 6. ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹é€ 

```
ğŸ“ AiAgentGame/
â”œâ”€â”€ ğŸ“ src/                          # ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰
â”‚   â”œâ”€â”€ ğŸ“ agents/                   # Agentå®Ÿè£…
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ planner.py
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ coder.py
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ reviewer.py
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ tester.py
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ debugger.py
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ asset_coordinator.py
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ visual_agent.py
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ audio_agent.py
â”‚   â”‚   â””â”€â”€ ğŸ“„ ui_agent.py
â”‚   â”‚
â”‚   â”œâ”€â”€ ğŸ“ tools/                    # Toolå®Ÿè£…
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ file_tools.py         # FileRead, FileWrite, FileEdit
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ bash_tools.py         # BashExec
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ image_tools.py        # ImageGenerate
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ audio_tools.py        # AudioGenerate
â”‚   â”‚   â””â”€â”€ ğŸ“„ web_tools.py          # WebSearch
â”‚   â”‚
â”‚   â”œâ”€â”€ ğŸ“ core/                     # ã‚³ã‚¢æ©Ÿèƒ½
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ graph.py              # LangGraphå®šç¾©
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ state.py              # Stateå®šç¾©
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ feedback.py           # Feedbackå‡¦ç†
â”‚   â”‚   â””â”€â”€ ğŸ“„ llm.py                # LLMè¨­å®š
â”‚   â”‚
â”‚   â””â”€â”€ ğŸ“„ main.py                   # ã‚¨ãƒ³ãƒˆãƒªãƒ¼ãƒã‚¤ãƒ³ãƒˆ
â”‚
â”œâ”€â”€ ğŸ“ output/                       # Agentæˆæœç‰©å‡ºåŠ›
â”‚   â”œâ”€â”€ ğŸ“ code/                     # ç”Ÿæˆã•ã‚ŒãŸã‚²ãƒ¼ãƒ ã‚³ãƒ¼ãƒ‰
â”‚   â”œâ”€â”€ ğŸ“ images/                   # ç”»åƒã‚¢ã‚»ãƒƒãƒˆ
â”‚   â”œâ”€â”€ ğŸ“ audio/                    # éŸ³å£°ã‚¢ã‚»ãƒƒãƒˆ
â”‚   â””â”€â”€ ğŸ“ ui/                       # UIç´ æ
â”‚
â”œâ”€â”€ ğŸ“ feedback/                     # ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯
â”‚   â””â”€â”€ ğŸ“„ (artifact_id).txt         # å„æˆæœç‰©ã¸ã®ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯
â”‚
â”œâ”€â”€ ğŸ“ status/                       # é€²æ—çŠ¶æ³
â”‚   â”œâ”€â”€ ğŸ“„ current.json              # ç¾åœ¨ã®çŠ¶æ…‹
â”‚   â””â”€â”€ ğŸ“„ history.json              # å®Ÿè¡Œå±¥æ­´
â”‚
â”œâ”€â”€ ğŸ“ templates/                    # ã‚²ãƒ¼ãƒ ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ
â”‚   â”œâ”€â”€ ğŸ“ pygame/
â”‚   â”œâ”€â”€ ğŸ“ pyxel/
â”‚   â””â”€â”€ ğŸ“ html5/
â”‚
â”œâ”€â”€ ğŸ“ config/                       # è¨­å®š
â”‚   â”œâ”€â”€ ğŸ“„ llm_config.yaml           # LLMè¨­å®š
â”‚   â”œâ”€â”€ ğŸ“„ api_keys.yaml             # APIã‚­ãƒ¼ï¼ˆ.gitignoreï¼‰
â”‚   â””â”€â”€ ğŸ“„ agent_config.yaml         # Agentè¨­å®š
â”‚
â”œâ”€â”€ ğŸ“„ requirements.txt
â”œâ”€â”€ ğŸ“„ pyproject.toml
â”œâ”€â”€ ğŸ“„ ARCHITECTURE.md               # ã“ã®æ–‡æ›¸
â””â”€â”€ ğŸ“„ README.md
```

---

## 7. Human-in-the-Loopï¼ˆãƒ•ã‚¡ã‚¤ãƒ«ãƒ™ãƒ¼ã‚¹ï¼‰

### 7.1 ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯ã®æ›¸ãæ–¹

```bash
# æˆæœç‰©ã‚’ç¢ºèªå¾Œã€ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯ã‚’æ›¸ã

# ç”»åƒã®å†ç”Ÿæˆ
echo "ã‚‚ã£ã¨æ˜ã‚‹ã„è‰²åˆã„ã«ã—ã¦ã€èƒŒæ™¯ã¯å¤•ç„¼ã‘ã§" > ./feedback/character_001.txt

# ã‚³ãƒ¼ãƒ‰ã®ä¿®æ­£
echo "ã‚¸ãƒ£ãƒ³ãƒ—ã®é«˜ã•ã‚’2å€ã«ã—ã¦" > ./feedback/player_controller.txt

# BGMã®å†ç”Ÿæˆ
echo "ã‚‚ã£ã¨ã‚¢ãƒƒãƒ—ãƒ†ãƒ³ãƒã§ã€8bité¢¨ã«" > ./feedback/bgm_main.txt

# å…¨ä½“ã¸ã®æŒ‡ç¤º
echo "å…¨ä½“çš„ã«ãƒ¬ãƒˆãƒ­ã‚²ãƒ¼ãƒ é¢¨ã®ãƒ†ã‚¤ã‚¹ãƒˆã§çµ±ä¸€ã—ã¦" > ./feedback/_global.txt
```

### 7.2 ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯ãƒ•ã‚¡ã‚¤ãƒ«å½¢å¼

#### ã‚·ãƒ³ãƒ—ãƒ«å½¢å¼ï¼ˆãƒ†ã‚­ã‚¹ãƒˆï¼‰

```
./feedback/character_001.txt:
ã‚‚ã£ã¨æ˜ã‚‹ã„é«ªè‰²ã§ã€è¡¨æƒ…ã¯ç¬‘é¡”ã«ã—ã¦
```

#### è©³ç´°å½¢å¼ï¼ˆJSONï¼‰

```json
// ./feedback/character_001.json
{
  "action": "redo",
  "priority": "high",
  "comment": "ã‚‚ã£ã¨æ˜ã‚‹ã„é«ªè‰²ã§ã€è¡¨æƒ…ã¯ç¬‘é¡”ã«ã—ã¦",
  "reference": "https://example.com/reference_image.png"
}
```

### 7.3 ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ãƒ•ã‚¡ã‚¤ãƒ«å½¢å¼

```json
// ./status/current.json
{
  "session_id": "game_001",
  "phase": "asset_generation",
  "started_at": "2025-01-14T10:00:00Z",
  "artifacts": {
    "character_001": {
      "status": "completed",
      "file": "./output/images/character_001.png",
      "awaiting_feedback": true,
      "timeout_at": "2025-01-14T10:05:30Z"
    },
    "bgm_main": {
      "status": "in_progress",
      "progress": 60
    }
  },
  "next_actions": [
    "character_002ã®ç”Ÿæˆ",
    "title_screenã®å®Ÿè£…"
  ]
}
```

---

## 8. LLMè¨­å®š

### 8.1 å¯¾å¿œLLMãƒ—ãƒ­ãƒã‚¤ãƒ€ãƒ¼

```yaml
# config/llm_config.yaml

# ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆè¨­å®š
default:
  provider: anthropic
  model: claude-3-5-sonnet-20241022
  temperature: 0.7
  max_tokens: 4096

# ãƒ—ãƒ­ãƒã‚¤ãƒ€ãƒ¼åˆ¥è¨­å®š
providers:
  anthropic:
    models:
      - claude-3-5-sonnet-20241022
      - claude-3-opus-20240229
      - claude-3-haiku-20240307

  openai:
    models:
      - gpt-4-turbo
      - gpt-4o
      - gpt-3.5-turbo

  deepseek:
    base_url: https://api.deepseek.com/v1
    models:
      - deepseek-chat
      - deepseek-coder

  custom:
    base_url: ${CUSTOM_LLM_URL}
    models:
      - custom-model

# Agentåˆ¥LLMè¨­å®šï¼ˆã‚ªãƒ—ã‚·ãƒ§ãƒ³ï¼‰
agent_overrides:
  coder:
    provider: deepseek
    model: deepseek-coder
  planner:
    provider: anthropic
    model: claude-3-opus-20240229
```

### 8.2 LLMåˆ‡ã‚Šæ›¿ãˆã‚³ãƒ¼ãƒ‰

```python
from langchain_anthropic import ChatAnthropic
from langchain_openai import ChatOpenAI

def get_llm(config: dict):
    provider = config.get("provider", "anthropic")

    if provider == "anthropic":
        return ChatAnthropic(
            model=config["model"],
            temperature=config.get("temperature", 0.7)
        )
    elif provider == "openai":
        return ChatOpenAI(
            model=config["model"],
            temperature=config.get("temperature", 0.7)
        )
    elif provider == "deepseek":
        return ChatOpenAI(
            base_url=config["base_url"],
            model=config["model"],
            api_key=os.getenv("DEEPSEEK_API_KEY")
        )
    elif provider == "custom":
        return ChatOpenAI(
            base_url=config["base_url"],
            model=config["model"],
            api_key=os.getenv("CUSTOM_API_KEY")
        )
```

---

## 9. æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯

| ã‚«ãƒ†ã‚´ãƒª | æŠ€è¡“ | ãƒãƒ¼ã‚¸ãƒ§ãƒ³ | ç”¨é€” |
|---------|------|-----------|------|
| **è¨€èª** | Python | 3.10+ | ãƒ¡ã‚¤ãƒ³è¨€èª |
| **Orchestration** | LangGraph | 1.0+ | Agentåˆ¶å¾¡ |
| **LLM Interface** | LangChain | 1.0+ | LLMæŠ½è±¡åŒ– |
| **Monitoring** | LangSmith | - | ãƒˆãƒ¬ãƒ¼ã‚¹ãƒ»ãƒ‡ãƒãƒƒã‚° |
| **Game Engine** | Pygame | 2.5+ | 2Dã‚²ãƒ¼ãƒ  |
| **Game Engine** | Pyxel | 2.0+ | ãƒ¬ãƒˆãƒ­ã‚²ãƒ¼ãƒ  |
| **Game Engine** | HTML5 Canvas | - | Webã‚²ãƒ¼ãƒ  |
| **Image Gen** | ComfyUI | - | ç”»åƒç”Ÿæˆï¼ˆãƒ¡ã‚¤ãƒ³ãƒ»è‡ªå‰ï¼‰ |
| **Image Gen** | Stable Diffusion WebUI | - | ç”»åƒç”Ÿæˆï¼ˆä»£æ›¿ãƒ»è‡ªå‰ï¼‰ |
| **Image Gen** | DALL-E 3 | - | ç”»åƒç”Ÿæˆï¼ˆãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯ï¼‰ |
| **Audio Gen** | AudioCraft | - | BGM/SEç”Ÿæˆï¼ˆè‡ªå‰ï¼‰ |
| **Audio Gen** | VOICEVOX | - | æ—¥æœ¬èªéŸ³å£°ï¼ˆè‡ªå‰ï¼‰ |
| **Audio Gen** | Freesound API | - | SEç´ æï¼ˆç„¡æ–™ï¼‰ |
| **Audio Gen** | Suno AI | - | BGMç”Ÿæˆï¼ˆæœ‰æ–™ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯ï¼‰ |
| **Audio Gen** | ElevenLabs | - | éŸ³å£°ç”Ÿæˆï¼ˆæœ‰æ–™ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯ï¼‰ |
| **File Watch** | watchdog | 3.0+ | ãƒ•ã‚¡ã‚¤ãƒ«ç›£è¦– |

---

## 10. å®Ÿè£…ãƒ•ã‚§ãƒ¼ã‚º

### Phase 1: åŸºç›¤æ§‹ç¯‰
- [ ] ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆåˆæœŸåŒ–
- [ ] LangGraphåŸºæœ¬ãƒ•ãƒ­ãƒ¼å®Ÿè£…
- [ ] LangSmithæ¥ç¶šè¨­å®š
- [ ] ãƒ•ã‚¡ã‚¤ãƒ«ãƒ™ãƒ¼ã‚¹Feedbackå®Ÿè£…

### Phase 2: Core Agentå®Ÿè£…
- [ ] Planner Agent
- [ ] Coder Agent
- [ ] Tester Agent
- [ ] Debugger Agent

### Phase 3: Toolå®Ÿè£…
- [ ] FileRead / FileWrite / FileEdit
- [ ] BashExec
- [ ] WebSearch

### Phase 4: Asset Agentå®Ÿè£…
- [ ] Asset Coordinator
- [ ] Visual Agent
- [ ] Audio Agent
- [ ] UI Agent

### Phase 5: çµ±åˆãƒ»æœ€é©åŒ–
- [ ] å…¨Agenté€£æºãƒ†ã‚¹ãƒˆ
- [ ] ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°å¼·åŒ–
- [ ] ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æœ€é©åŒ–

### Phase 6: æ‹¡å¼µæ©Ÿèƒ½
- [ ] ã‚²ãƒ¼ãƒ ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆè¿½åŠ 
- [ ] è¤‡æ•°ã‚²ãƒ¼ãƒ ã‚¨ãƒ³ã‚¸ãƒ³å¯¾å¿œ
- [ ] Web UIï¼ˆã‚ªãƒ—ã‚·ãƒ§ãƒ³ï¼‰

---

## 11. åˆ¶ç´„ãƒ»å‰ææ¡ä»¶

### 11.1 ã‚·ã‚¹ãƒ†ãƒ è¦ä»¶

- Python 3.10ä»¥ä¸Š
- 8GBä»¥ä¸Šã®RAMæ¨å¥¨
- ã‚¤ãƒ³ã‚¿ãƒ¼ãƒãƒƒãƒˆæ¥ç¶šï¼ˆLLM APIå‘¼ã³å‡ºã—ï¼‰

### 11.2 å¿…è¦ãªAPIã‚­ãƒ¼

**å¿…é ˆï¼ˆã„ãšã‚Œã‹1ã¤ï¼‰**:
- Anthropic API Keyï¼ˆClaudeä½¿ç”¨æ™‚ï¼‰
- OpenAI API Keyï¼ˆGPTä½¿ç”¨æ™‚ï¼‰
- Deepseek API Keyï¼ˆDeepseekä½¿ç”¨æ™‚ï¼‰

**è‡ªå‰ç’°å¢ƒï¼ˆæ¨å¥¨ãƒ»APIã‚­ãƒ¼ä¸è¦ï¼‰**:
- ComfyUI / Stable Diffusion WebUIï¼ˆãƒ­ãƒ¼ã‚«ãƒ«ç”»åƒç”Ÿæˆï¼‰
- AudioCraft / Barkï¼ˆãƒ­ãƒ¼ã‚«ãƒ«éŸ³å£°ç”Ÿæˆï¼‰
- VOICEVOXï¼ˆãƒ­ãƒ¼ã‚«ãƒ«æ—¥æœ¬èªéŸ³å£°ï¼‰

**ã‚ªãƒ—ã‚·ãƒ§ãƒ³ï¼ˆæœ‰æ–™ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯ï¼‰**:
- OpenAI API Keyï¼ˆDALL-E 3ä½¿ç”¨æ™‚ï¼‰
- Suno API Keyï¼ˆé«˜å“è³ªBGMç”Ÿæˆæ™‚ï¼‰
- ElevenLabs API Keyï¼ˆé«˜å“è³ªéŸ³å£°ç”Ÿæˆæ™‚ï¼‰

### 11.3 åˆ¶é™äº‹é …

- ãƒ­ãƒ¼ã‚«ãƒ«å®Ÿè¡Œã‚’å‰æï¼ˆãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯è¶Šã—ã®ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯ã¯éå¯¾å¿œï¼‰
- åŒæ™‚å®Ÿè¡Œã‚»ãƒƒã‚·ãƒ§ãƒ³ã¯1ã¤
- å¤§è¦æ¨¡ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã«ã¯è¿½åŠ ã®ã‚¤ãƒ³ãƒ•ãƒ©ãŒå¿…è¦ãªå ´åˆã‚ã‚Š

---

## 12. ä»Šå¾Œã®æ‹¡å¼µå€™è£œ

1. **Web UI**: ãƒ–ãƒ©ã‚¦ã‚¶ãƒ™ãƒ¼ã‚¹ã®ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹
2. **ãƒªãƒ¢ãƒ¼ãƒˆãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯**: Redis/WebSocketã«ã‚ˆã‚‹ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯å¯¾å¿œ
3. **ãƒãƒ¼ãƒ é–‹ç™º**: è¤‡æ•°ãƒ¦ãƒ¼ã‚¶ãƒ¼ã«ã‚ˆã‚‹åŒæ™‚ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯
4. **ãƒãƒ¼ã‚¸ãƒ§ãƒ³ç®¡ç†**: æˆæœç‰©ã®å±¥æ­´ç®¡ç†ãƒ»ãƒ­ãƒ¼ãƒ«ãƒãƒƒã‚¯
5. **ãƒ—ãƒªã‚»ãƒƒãƒˆ**: ã‚²ãƒ¼ãƒ ã‚¸ãƒ£ãƒ³ãƒ«åˆ¥ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ
6. **ãƒãƒ¼ã‚±ãƒƒãƒˆãƒ—ãƒ¬ã‚¤ã‚¹**: ã‚¢ã‚»ãƒƒãƒˆå…±æœ‰ãƒ»å†åˆ©ç”¨

---

*æœ€çµ‚æ›´æ–°: 2025-01-14*
*ãƒãƒ¼ã‚¸ãƒ§ãƒ³: 1.0.0*
