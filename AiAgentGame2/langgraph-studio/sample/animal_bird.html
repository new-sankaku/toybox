<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1.0">
<title>鳥キャラクター</title>
<style>
*{margin:0;padding:0;box-sizing:border-box;}
body{background:#d8d0c8;display:flex;justify-content:center;align-items:center;min-height:100vh;font-family:sans-serif;}
.container{background:#fff;border-radius:20px;padding:30px;box-shadow:0 10px 40px rgba(0,0,0,0.08);}
h2{text-align:center;color:#8b8178;margin-bottom:15px;font-weight:normal;font-size:18px;}
#canvas{display:block;border-radius:12px;}
</style>
</head>
<body>
<div class="container">
<h2>鳥キャラクター</h2>
<canvas id="canvas" width="400" height="400"></canvas>
</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
<script>
var scene,camera,renderer,character,time=0;
function init(){
scene=new THREE.Scene();
scene.background=new THREE.Color(0xd8d0c8);
camera=new THREE.PerspectiveCamera(50,1,0.1,1000);
camera.position.set(0,2,5);
camera.lookAt(0,1,0);
renderer=new THREE.WebGLRenderer({canvas:document.getElementById('canvas'),antialias:true});
renderer.setSize(400,400);
renderer.shadowMap.enabled=true;
renderer.shadowMap.type=THREE.PCFSoftShadowMap;
var ambLight=new THREE.AmbientLight(0xffffff,0.6);
scene.add(ambLight);
var dirLight=new THREE.DirectionalLight(0xffffff,0.8);
dirLight.position.set(5,10,5);
dirLight.castShadow=true;
scene.add(dirLight);
createCharacter();
createFloor();
animate();
}
function createCharacter(){
character=new THREE.Group();
var bodyColor=0xc8d8e0;
var accentColor=0xa8c0c8;
var wingColor=0xb8c8d0;
var eyeColor=0x3a3530;
var cheekColor=0xe8b0a0;
var beakColor=0xd8a870;

// 胴体（卵形）
var bodyGeo=new THREE.SphereGeometry(0.45,32,32);
var bodyMat=new THREE.MeshToonMaterial({color:bodyColor});
var body=new THREE.Mesh(bodyGeo,bodyMat);
body.scale.set(1,1.2,0.9);
body.position.y=1;
body.castShadow=true;
character.add(body);
character.body=body;

// 頭
var headGeo=new THREE.SphereGeometry(0.35,32,32);
var headMat=new THREE.MeshToonMaterial({color:bodyColor});
var head=new THREE.Mesh(headGeo,headMat);
head.position.set(0,1.65,0.1);
head.castShadow=true;
character.add(head);
character.head=head;

// くちばし
var beakGeo=new THREE.ConeGeometry(0.08,0.2,8);
var beakMat=new THREE.MeshToonMaterial({color:beakColor});
var beak=new THREE.Mesh(beakGeo,beakMat);
beak.position.set(0,1.55,0.45);
beak.rotation.x=Math.PI/2;
character.add(beak);

// 目
var eyeGeo=new THREE.SphereGeometry(0.08,16,16);
var eyeMat=new THREE.MeshToonMaterial({color:eyeColor});
var leftEye=new THREE.Mesh(eyeGeo,eyeMat);
leftEye.position.set(-0.15,1.72,0.28);
character.add(leftEye);
var rightEye=new THREE.Mesh(eyeGeo,eyeMat);
rightEye.position.set(0.15,1.72,0.28);
character.add(rightEye);

// 瞳ハイライト
var highlightGeo=new THREE.SphereGeometry(0.025,8,8);
var highlightMat=new THREE.MeshToonMaterial({color:0xffffff});
var leftHighlight=new THREE.Mesh(highlightGeo,highlightMat);
leftHighlight.position.set(-0.13,1.74,0.35);
character.add(leftHighlight);
var rightHighlight=new THREE.Mesh(highlightGeo,highlightMat);
rightHighlight.position.set(0.17,1.74,0.35);
character.add(rightHighlight);

// 頬
var cheekGeo=new THREE.SphereGeometry(0.06,12,12);
var cheekMat=new THREE.MeshToonMaterial({color:cheekColor});
var leftCheek=new THREE.Mesh(cheekGeo,cheekMat);
leftCheek.position.set(-0.25,1.6,0.25);
leftCheek.scale.set(1,0.6,0.5);
character.add(leftCheek);
var rightCheek=new THREE.Mesh(cheekGeo,cheekMat);
rightCheek.position.set(0.25,1.6,0.25);
rightCheek.scale.set(1,0.6,0.5);
character.add(rightCheek);

// 冠羽（頭のトサカ）
var crestGroup=new THREE.Group();
for(var i=0;i<3;i++){
var crest=new THREE.Mesh(new THREE.ConeGeometry(0.04,0.15+i*0.03,8),new THREE.MeshToonMaterial({color:accentColor}));
crest.position.set(0,0.1+i*0.05,-0.05*i);
crest.rotation.x=-0.3;
crestGroup.add(crest);
}
crestGroup.position.set(0,1.95,0);
character.add(crestGroup);
character.crest=crestGroup;

// 翼（左）
var leftWingGroup=new THREE.Group();
var leftWingMain=new THREE.Mesh(new THREE.SphereGeometry(0.25,16,16),new THREE.MeshToonMaterial({color:wingColor}));
leftWingMain.scale.set(0.4,1,0.8);
leftWingGroup.add(leftWingMain);
// 羽先
for(var i=0;i<3;i++){
var feather=new THREE.Mesh(new THREE.ConeGeometry(0.04,0.2,6),new THREE.MeshToonMaterial({color:accentColor}));
feather.position.set(0,-0.2-i*0.03,0.1*i);
feather.rotation.x=0.5;
leftWingGroup.add(feather);
}
leftWingGroup.position.set(-0.5,1.1,0);
leftWingGroup.rotation.z=0.5;
character.add(leftWingGroup);
character.leftWing=leftWingGroup;

// 翼（右）
var rightWingGroup=new THREE.Group();
var rightWingMain=new THREE.Mesh(new THREE.SphereGeometry(0.25,16,16),new THREE.MeshToonMaterial({color:wingColor}));
rightWingMain.scale.set(0.4,1,0.8);
rightWingGroup.add(rightWingMain);
for(var i=0;i<3;i++){
var feather=new THREE.Mesh(new THREE.ConeGeometry(0.04,0.2,6),new THREE.MeshToonMaterial({color:accentColor}));
feather.position.set(0,-0.2-i*0.03,0.1*i);
feather.rotation.x=0.5;
rightWingGroup.add(feather);
}
rightWingGroup.position.set(0.5,1.1,0);
rightWingGroup.rotation.z=-0.5;
character.add(rightWingGroup);
character.rightWing=rightWingGroup;

// 足
var legMat=new THREE.MeshToonMaterial({color:beakColor});
var leftLeg=new THREE.Mesh(new THREE.CylinderGeometry(0.03,0.03,0.3,8),legMat);
leftLeg.position.set(-0.12,0.35,0);
character.add(leftLeg);
var rightLeg=new THREE.Mesh(new THREE.CylinderGeometry(0.03,0.03,0.3,8),legMat);
rightLeg.position.set(0.12,0.35,0);
character.add(rightLeg);

// 足先（3本指）
[-0.12,0.12].forEach(function(x){
for(var i=-1;i<=1;i++){
var toe=new THREE.Mesh(new THREE.CylinderGeometry(0.015,0.015,0.1,6),legMat);
toe.position.set(x+i*0.03,0.15,0.05);
toe.rotation.x=-0.3;
character.add(toe);
}
});

// しっぽ（尾羽）
var tailGroup=new THREE.Group();
for(var i=-1;i<=1;i++){
var tailFeather=new THREE.Mesh(new THREE.ConeGeometry(0.05,0.3,6),new THREE.MeshToonMaterial({color:accentColor}));
tailFeather.position.set(i*0.08,0,-0.1);
tailFeather.rotation.x=2.5;
tailGroup.add(tailFeather);
}
tailGroup.position.set(0,0.7,-0.35);
character.add(tailGroup);
character.tail=tailGroup;

scene.add(character);
}
function createFloor(){
var floorGeo=new THREE.CircleGeometry(2,32);
var floorMat=new THREE.MeshToonMaterial({color:0xcac4bc});
var floor=new THREE.Mesh(floorGeo,floorMat);
floor.rotation.x=-Math.PI/2;
floor.position.y=0;
floor.receiveShadow=true;
scene.add(floor);
}
function animate(){
requestAnimationFrame(animate);
time+=0.03;
// 頭の動き（首をかしげる）
character.head.rotation.z=Math.sin(time*2)*0.15;
character.head.position.y=1.65+Math.sin(time*3)*0.02;
// 冠羽の揺れ
character.crest.rotation.x=Math.sin(time*4)*0.1;
// 翼のパタパタ
character.leftWing.rotation.z=0.5+Math.sin(time*8)*0.3;
character.rightWing.rotation.z=-0.5-Math.sin(time*8)*0.3;
// 浮遊感
character.position.y=Math.sin(time*2)*0.05;
// しっぽの揺れ
character.tail.rotation.y=Math.sin(time*3)*0.2;
// 全体の回転
character.rotation.y=Math.sin(time*0.5)*0.3;
renderer.render(scene,camera);
}
init();
</script>
</body>
</html>
