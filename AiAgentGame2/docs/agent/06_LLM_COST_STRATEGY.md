# AIコスト戦略

## 概要

タスクの難易度や性質に応じて適切なAIモデルを選択し、コスト効率を最大化する。

## 利用可能なAI

### テキスト生成（LLM）

| モデル | 特性 | 用途 |
|--------|------|------|
| Haiku | 高速・低コスト | 単純なタスク、定型処理 |
| Sonnet | バランス型 | 一般的なコーディング、レビュー |
| Opus | 高精度・高コスト | 複雑な設計判断、アーキテクチャ決定 |

### 画像生成

| モデル | 特性 | 用途 |
|--------|------|------|
| DALL-E 3 | 高品質 | コンセプトアート、UIデザイン |
| Stable Diffusion | ローカル実行可 | 大量生成、イテレーション |
| Midjourney | スタイリッシュ | キャラクターデザイン |

### 音楽・音声生成

| モデル | 特性 | 用途 |
|--------|------|------|
| Suno | 楽曲生成 | BGM、テーマ曲 |
| ElevenLabs | 音声合成 | ナレーション、ボイス |
| Bark | オープンソース | 効果音、短い音声 |

### 3Dモデル生成

| モデル | 特性 | 用途 |
|--------|------|------|
| Meshy | テキストから3D | プロトタイプモデル |
| Tripo AI | 画像から3D | キャラクター、オブジェクト |

## LLM選択基準

タスクの難度に応じて選択する。Agent種別に関係なく、難しいタスクにはOpusを使用して構わない。

| 難度 | 推奨モデル | 例 |
|------|-----------|-----|
| 低 | Haiku | 単純なコード生成、定型ドキュメント、テスト作成 |
| 中 | Sonnet | 一般的な機能実装、バグ修正、リファクタリング |
| 高 | Opus | アーキテクチャ設計、セキュリティ関連、複雑なデバッグ |

### 自動昇格

- 同一タスクで2回連続失敗 → より高性能なモデルに切り替え

## 予算管理

### 設定項目（DB/WebUI）

| 項目 | 説明 |
|------|------|
| 日次予算上限 | 1日あたりの上限額（USD） |
| 警告閾値 | 警告を出す使用率（%） |

### 予算超過時

予算超過時は動作を停止する。

## 監視項目

| メトリクス | 説明 |
|-----------|------|
| 使用額 | 現在の累計コスト |
| モデル別使用回数 | 各モデルの呼び出し回数 |
| 残予算 | 残りの予算額 |
